import{u as _,l as h,a as v,b as F}from"./use-api.d05a7f0e.js";import{_ as g,f as D,n as C,p as E,q as y,r as t,o as B,k as A,w as i,a as l,e as w}from"./app.f7087405.js";const k=D({setup(){const{fetch:a,update:s,create:c,delete:d}=_(),n=C(null),p=E();return{get:a,update:s,create:c,actionDelete:e=>d(e.id),handlePrintData(){console.log(n.value.getTableData())},container:n,columns:y([{field:"id",label:"#id",custom:{action:{searchable:!0},props:e=>{if(e==="searcher")return{placeholder:"\u8BF7\u8F93\u5165ID",label:"ID"}}}},{field:"level",label:"\u7528\u6237\u7EA7\u522B",custom:{action:{creatable:!0,editable:!0},map:{options:[{label:"\u7BA1\u7406\u5458",value:1,color:"red-5",textColor:"white"},{label:"\u5C0F\u7EC4\u957F",value:2,color:"light-blue-3"},{label:"\u7EC4\u5458",value:3,color:"deep-purple-3"}],formType:"radio"},props:e=>{if(e==="table")return{size:"xs",square:!0}}}},{field:"user_name",label:"\u540D\u79F0",custom:{name:"user_name",action:{creatable:!0,editable:!0,searchable:!0},visible:!1}},{field:"avatar",label:"\u5934\u50CF",custom:{name:"avatar",define:"avatar",props:e=>{if(e==="table")return{"spinner-size":"12px"}},visible:!1}},{field:"progress",label:"\u4EFB\u52A1\u8FDB\u5EA6",custom:{define:"progress",props:(e,o)=>{if(e==="table")return{color:o.progress>.5?"red":"blue",size:"10px",stripe:!0,rounded:!0}}}},{field:"is_online",label:"\u7528\u6237\u72B6\u6001",custom:{name:"is_online",map:{type:"status",options:[{label:"\u5728\u7EBF",value:1,color:"rgb(80, 207, 86)"},{label:"\u79BB\u7EBF",value:0,color:"#9d6666"}]},visible:!1}},{label:"\u7528\u6237",custom:{template:{children:["{{avatar}}",{children:"{{user_name}}{{is_online}}",style:{display:"flex","justify-content":"center","flex-direction":"column","margin-left":"10px","margin-top":0}}],style:{display:"flex","align-items":"center"}}}},{field:"city",label:"\u6240\u5728\u57CE\u5E02",custom:{visible:!1,map:{loadOptions:h},action:{creatable:!0,editable:!0,searchable:!0}}},{field:"province",label:"\u6240\u5728\u533A",custom:{visible:!1,map:{dependsOn:"city",loadOptions:e=>v(e.city)},action:{creatable:!0,editable:!0,searchable:!0}}},{field:"team",label:"\u6240\u5C5E\u5C0F\u7EC4",custom:{map:{dependsOn:"province",loadOptions:e=>F(e.province)},action:{creatable:!0,editable:!0,searchable:!0}}},{field:"color",label:"\u968F\u673A\u8272",custom:{define:"color"}},{field:"link",label:"\u4E2A\u4EBA\u4E3B\u9875",custom:{define:"link"}},{field:"updated_at",label:"\u66F4\u65B0\u65F6\u95F4",custom:{define:"datetime"}},{label:"\u64CD\u4F5C",custom:{buttons:e=>["edit","delete",{label:"\u53D1\u6D88\u606F",props:{disabled:!e.is_online},confirm:{title:"\u63D0\u793A",content:`\u786E\u5B9A\u8981\u7ED9\u7528\u6237 ${e.user_name} \u53D1\u9001\u6D88\u606F\u5417`},handler:()=>{p.notify({message:"\u529F\u80FD\u672A\u5F00\u653E",color:"warning",position:"center",icon:"warning"})}},{dropdown:{buttons:["copy"]}}]}}]),showWhen:e=>{const{formData:o,from:r,field:u}=e;if(r!=="searcher"){if(u==="province")return!!o.city;if(u==="team")return!!o.province}return!0}}}}),q=w("\u5728\u63A7\u5236\u53F0\u6253\u5370\u5F53\u524D\u9875\u6570\u636E");function x(a,s,c,d,n,p){const e=t("a-toolbar-btn"),o=t("a-toolbar"),r=t("a-searcher"),u=t("a-form-dialog"),m=t("q-table"),f=t("q-pagination"),b=t("a-container");return B(),A(b,{"action-get":a.get,"action-edit":a.update,"action-delete":a.actionDelete,"action-create":a.create,columns:a.columns,"show-when":a.showWhen,ref:"container"},{default:i(()=>[l(o,{search:!1,class:"wrap"},{default:i(()=>[l(e,{outline:"",onClick:a.handlePrintData},{default:i(()=>[q]),_:1},8,["onClick"])]),_:1}),l(r,{layout:"12","layout-sm":"6,6,4,4,4"}),l(u,{layout:"12","layout-sm":"12,6,6,6,6,6"}),l(m,{flat:""}),l(f)]),_:1},8,["action-get","action-edit","action-delete","action-create","columns","show-when"])}var T=g(k,[["render",x]]);export{T as default};
